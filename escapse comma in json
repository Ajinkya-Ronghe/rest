function escapeCommasInCSV(data: any[]): string {
  return data
    .map((row) =>
      Object.values(row)
        .map((value) => {
          const stringValue = String(value);
          // If the value contains a comma, wrap it in double quotes
          return stringValue.includes(",") ? `"${stringValue}"` : stringValue;
        })
        .join(",")
    )
    .join("\n");
}

// Example usage
const jsonData = [
  { Name: "John, Doe", Age: 30, Address: "New York, NY" },
  { Name: "Jane Smith", Age: 25, Address: "Los Angeles, CA" },
];

const csv = escapeCommasInCSV(jsonData);
console.log(csv);


// Example usage
const jsonObject = {
  name: "John, Doe",
  address: {
    city: "New York, NY",
    zip: "10001"
  },
  hobbies: ["reading, writing", "coding"],
};

const escapedJson = escapeCommasInJsonValues(jsonObject);
console.log(escapedJson);
